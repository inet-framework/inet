Generating Tokens after Received Packets
========================================

The :ned:`PacketBasedTokenGenerator` is a passive packet sink, and generates
a configurable number of tokens into a token-based server when receiving a packet.

Packets are generated by an active packet source (:ned:`ActivePacketSource`), and
pushed into the token generator (:ned:`PacketBasedTokenGenerator`). The generator generates tokens into a token-based server
(:ned:`TokenBasedServer`). When the server has tokens, it pops packets from the connected packet
provider (:ned:`PassivePacketSource`), and pushes them into a packet consumer
(:ned:`PassivePacketSink`).

.. figure:: media/PacketBasedTokenGenerator.png
   :width: 100%
   :align: center

.. literalinclude:: ../QueueingTutorial.ned
   :start-at: network PacketBasedTokenGenerator
   :end-before: //----
   :language: ned

.. literalinclude:: ../omnetpp.ini
   :start-at: Config PacketBasedTokenGenerator
   :end-at: productionInterval
   :language: ini
