[General]
network = QuicLinkSharingShowcase
sim-time-limit = 50s

# Avoid flow control
**.quic.initialMaxData = 4294967295B
**.quic.initialMaxStreamData = 4294967295B

**.bottleneckDelay = ${delay=10}ms
**.bottleneckDatarate = ${bw=10}Mbps

**.ppp[*].ppp.mtu = ${mtu=1280}B
# Use the Bandwidth-Delay-Product (BDP) for the queue size of the bottleneck router.
**.router1.ppp[4].queue.dataCapacity = ${bw} * 2*${delay} kb # = 25kB

**.sender*.hasQuic = true
**.sender*.numApps = 1
**.sender*.app[*].typename = "TrafficgenCompound"
**.sender*.app[0].numGenerators = 1

**.sender*.app[0].generator[0].typename			= "TrafficgenSimple"
**.sender*.app[0].generator[0].id				= 0
**.sender*.app[0].generator[0].packetSize		= 100kB
**.sender*.app[0].generator[0].packetInterval	= 0ms
**.sender*.app[0].generator[0].ordered			= false

**.sender1.app[0].generator[0].startTime		= 5s
**.sender2.app[0].generator[0].startTime		= 10s
**.sender3.app[0].generator[0].startTime		= 20s
**.sender1.app[0].generator[0].stopTime			= 30s
**.sender2.app[0].generator[0].stopTime			= 40s
**.sender3.app[0].generator[0].stopTime			= 45s

**.sender*.app[*].handler.typename = "QuicTrafficgen"
**.sender*.app[*].handler.localPort = 1001
**.sender*.app[*].handler.connectPort = 1000

**.sender1.app[*].handler.connectAddress = "receiver1"
**.sender2.app[*].handler.connectAddress = "receiver2"
**.sender3.app[*].handler.connectAddress = "receiver3"

**.sender*.quic.accurateIncreaseInNewRenoCongestionAvoidance = true
**.sender*.quic.sendQueueLimit = ${ql=100000}B
**.sender*.quic.sendQueueLowWaterRatio = .8
**.quic.bundleAckForNonAckElicitingPackets = true

**.receiver*.hasQuic = true
**.receiver*.numApps = 1
**.receiver*.app[0].typename = "QuicDiscardServer"
**.receiver*.app[0].localAddress = ""
**.receiver*.app[0].localPort = 1000

**.receiver*.quic.numReceivedAckElicitingsBeforeAck = 2

########## UDP for random background traffic
**.background*.numApps = 1
**.backgroundSender.app[0].typename = "UdpBasicApp"
**.background*.app[0].localPort = 100
**.background*.app[0].destPort = 100

**.backgroundReceiver.app[0].typename = "UdpSink"
**.backgroundReceiver.app[0].destAddresses = ""

**.backgroundSender.app[0].messageLength = int(uniform(500B,1000B))
**.backgroundSender.app[0].sendInterval = uniform(10ms,20ms)
**.backgroundSender.app[0].startTime = 0s
**.backgroundSender.app[0].stopTime = 50s
**.backgroundSender.app[0].destAddresses = "backgroundReceiver"

**.quic.outgoingDataRate.throughput.interval = 0.5s
**.quic.outgoingDataRate.throughput.numLengthLimit = 0

**.udp.outgoingDataRate.throughput.interval = 0.5s
**.udp.outgoingDataRate.throughput.numLengthLimit = 0