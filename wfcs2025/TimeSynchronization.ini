[General]
network = TimeSynchronizationShowcase
sim-time-limit = 100s
simtime-resolution = -30

**.transmitter.typename = "StreamingTransmitter"
**.receiver.typename = "DestreamingReceiver"

# configure oscillators
*.*.clock.oscillator.typename = "RandomDriftOscillator"
*.*.clock.oscillator.nominalTickLength = 1ns
*.*.clock.oscillator.changeInterval = 12.5ms
*.*.clock.oscillator.initialDriftRate = uniform(-100ppm, 100ppm)
*.*.clock.oscillator.driftRateChange = uniform(-0.0001ppm, 0.0001ppm)
*.*.clock.oscillator.driftRateChangeUpperLimit = 100ppm
*.*.clock.oscillator.driftRateChangeLowerLimit = -100ppm

# configure  Ethernet interface speed
*.*.eth[*].bitrate = 100Mbps

# set all reference clocks to master clock so the time difference can be visualized
*.*.clock.referenceClock = "masterClock.clock"

# display time and time difference on clock modules
*.masterClock.clock.displayStringTextFormat = "time: %T"
*.device*.clock.displayStringTextFormat = "time: %T, diff: %d"
*.switch.clock.displayStringTextFormat = "time: %T, diff: %d"

# display time differences on network nodes
*.visualizer.infoVisualizer.displayInfos = true
*.visualizer.infoVisualizer.placementHint = "top"
*.visualizer.infoVisualizer.modules = "*.*.clock"
*.visualizer.networkNodeVisualizer.annotationSpacing = 12

# enable time synchronization in all network nodes
*.*.hasGptp = true
*.*.hasTimeSynchronization = true

# configure TSN clock gPTP master ports
*.masterClock.gptp.masterPorts = ["eth0"]

# configure TSN switch gPTP bridge master ports
*.switch.gptp.masterPorts = ["eth1", "eth2"]
