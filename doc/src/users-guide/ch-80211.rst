.. _usr:cha:80211:

The 802.11 Model
================

.. _usr:sec:80211:overview:

Overview
--------

This chapter provides an overview of the IEEE 802.11 model for the INET
Framework.

An IEEE 802.11 interface (NIC) comes in several flavours, differring in
their role (ad-hoc station, infrastructure mode station, or access
point) and their level of detail:

#. :ned:`Ieee80211Interface`: a generic (configurable) NIC

#. :ned:`Ieee80211NicAdhoc`: for ad-hoc mode

#. :ned:`Ieee80211NicAP`, :ned:`Ieee80211NicAPSimplified`: for use in an
   access point

#. :ned:`Ieee80211NicSTA`, :ned:`Ieee80211NicSTASimplified`: for use in
   an infrastructure-mode station

NICs consist of four layers, which are the following (in top-down
order):

#. agent

#. management

#. MAC

#. physical layer (radio)

The following sections examine the above components.

.. _usr:sec:80211:mac:

MAC
---

The :ned:`Ieee80211Mac` module type represents the IEEE 802.11 MAC. The
implementation is entirely based on the standard IEEE 802.11â„¢-2012 Part
11: Wireless LAN Medium Access Control (MAC) and Physical Layer (PHY)
Specifications.

:ned:`Ieee80211Mac` performs transmission of frames according to the
CSMA/CA protocol. It receives data and management frames from the upper
layers, and transmits them.

The :ned:`Ieee80211Mac` was designed to be modular to facilitate
experimenting with new policies, features and algorithms within the MAC
layer. Users can easily replace individual components with their own
implementations. Policies, which most likely to be experimented with,
are extracted into their own modules.

The model has the following replaceable built-in policies:

-  ACK policy

-  RTS/CTS policy

-  Originator and recipient block ACK agreement policies

-  MSDU aggregation policy

-  Fragmentation policy

The new model also separates the following components:

-  Coordination functions

-  Channel access methods

-  MAC data services

-  Aggregation and deaggregation

-  Fragmentation and defragmentation

-  Block ACK agreements and reordering

-  Frame exchange sequences

-  Duplicate removal

-  Rate selection

-  Rate control

-  Protection mechanisms

-  Recovery procedure

-  Contention

-  Frame queues

-  TX/RX

.. _usr:sec:80211:physical-layer:

Physical Layer
--------------

*The physical layer* modules (:ned:`Ieee80211Radio`) deal with modelling
transmission and reception of frames. They model the characteristics of
the radio channel, and determine if a frame was received correctly (that
is, it did not suffer bit errors due to low signal power or interference
in the radio channel). Frames received correctly are passed up to the
MAC. The implementation of these modules is based on the Mobility
Framework.

.. _usr:sec:80211:management:

Management
----------

*The management layer* performs encapsulation and decapsulation of data
packets for the MAC, and exchanges management frames via the MAC with
its peer management entities in other STAs and APs. Beacon, Probe
Request/Response, Authentication, Association Request/Response etc
frames are generated and interpreted by management entities, and
transmitted/received via the MAC layer. During scanning, it is the
management entity that periodically switches channels, and collects
information from received beacons and probe responses.

The management layer has several implementations which differ in their
role (STA/AP/ad-hoc) and level of detail: :ned:`Ieee80211MgmtAdhoc`,
:ned:`Ieee80211MgmtAp`, :ned:`Ieee80211MgmtApSimplified`,
:ned:`Ieee80211MgmtSta`, :ned:`Ieee80211MgmtStaSimplified`. The
..Simplified ones differ from the others in that they do not model the
scan-authenticate-associate process, so they cannot be used in
experiments involving handover.

.. _usr:sec:80211:agent:

Agent
-----

The agent is what instructs the management layer to perform scanning,
authentication and association. The management layer itself just carries
out these commands by performing the scanning, authentication and
association procedures, and reports back the results to the agent.

The agent layer is currenly only present in the :ned:`Ieee80211NicSTA`
NIC module, as an :ned:`Ieee80211AgentSta` module. The managament
entities in other NIC variants do not have as much freedom as to need an
agent to control them.

By modifying or replacing the agent, one can alter the dynamic behaviour
of STAs in the network, for example implement different handover
strategies.
